media_player:
  - platform: kodi
    host: !secret kodi_ip
    turn_off_action:
      service: media_player.kodi_call_method
      data:
        entity_id: media_player.kodi
        method: System.Shutdown

  - platform: lg_netcast
    host: !secret tv_ip
    access_token: !secret tv_token

shell_command:
  tv_on: 'irsend SEND_ONCE lg KEY_POWER'
  tv_off: 'irsend SEND_ONCE lg KEY_POWER2'
  tv_toggle: 'irsend SEND_START lg KEY_RESTART ; sleep 0.2 && irsend SEND_STOP lg KEY_RESTART'
  tv_left: 'irsend SEND_ONCE lg KEY_LEFT'
  tv_right: 'irsend SEND_ONCE lg KEY_RIGHT'
  tv_up: 'irsend SEND_ONCE lg KEY_UP'
  tv_down: 'irsend SEND_ONCE lg KEY_DOWN'
  tv_ok: 'irsend SEND_ONCE lg KEY_OK'
  tv_input_kodi: 'irsend SEND_ONCE lg KEY_DVD'
  tv_input_tv: 'irsend SEND_ONCE lg KEY_TV'
  tv_input_bt: 'irsend SEND_ONCE lg KEY_SAT'
  tv_red: 'irsend SEND_ONCE lg KEY_RED'
  tv_green: 'irsend SEND_ONCE lg KEY_GREEN'
  tv_channel_down: 'irsend SEND_ONCE lg KEY_CHANNELDOWN'
  tv_channel_up: 'irsend SEND_ONCE lg KEY_CHANNELUP'

  tv_mode_bt: 'curl -X POST -H "Content-type: application/json" -d "{\"state\":\"bt\"}" "http://localhost:8123/api/states/sensor.tv_mode"'
  tv_mode_kodi: 'curl -X POST -H "Content-type: application/json" -d "{\"state\":\"kodi\"}" "http://localhost:8123/api/states/sensor.tv_mode"'
  tv_mode_tv: 'curl -X POST -H "Content-type: application/json" -d "{\"state\":\"tv\"}" "http://localhost:8123/api/states/sensor.tv_mode"'
  av_state_on: 'curl -X POST -H "Content-type: application/json" -d "{\"state\":\"on\"}" "http://localhost:8123/api/states/sensor.av_state"'
  av_state_off: 'curl -X POST -H "Content-type: application/json" -d "{\"state\":\"off\"}" "http://localhost:8123/api/states/sensor.av_state"'